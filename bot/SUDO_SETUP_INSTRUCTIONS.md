# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è

## üö® –í–ê–ñ–õ–ò–í–û: –¶–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä—ñ –æ–¥–∏–Ω —Ä–∞–∑!

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞
```bash
ssh roman@37.57.209.201
```

### –ö—Ä–æ–∫ 2: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```bash
cd /opt/telegram-bot/bot
chmod +x setup_sudo_nopasswd.sh
./setup_sudo_nopasswd.sh
```

### –ö—Ä–æ–∫ 3: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
```bash
sudo systemctl status telegram-bot
sudo cp /tmp/test /tmp/test2
```

### –©–æ —Ä–æ–±–∏—Ç—å —Å–∫—Ä–∏–ø—Ç:
1. **–ö–æ–º–µ–Ω—Ç—É—î `requiretty`** - –¥–æ–∑–≤–æ–ª—è—î sudo –±–µ–∑ TTY
2. **–î–æ–¥–∞—î –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ `roman`**:
   ```
   roman ALL=(ALL) NOPASSWD: /bin/systemctl, /bin/cp, /bin/mkdir, /bin/chown, /bin/kill, /bin/lsof, /bin/pkill, /bin/pgrep
   ```
3. **–ü–µ—Ä–µ–≤—ñ—Ä—è—î —Å–∏–Ω—Ç–∞–∫—Å–∏—Å** sudoers —Ñ–∞–π–ª—É

### –ë–µ–∑–ø–µ–∫–∞:
- ‚úÖ –û–±–º–µ–∂–µ–Ω–æ —Ç—ñ–ª—å–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏
- ‚úÖ –ù–µ –¥–∞—î –ø–æ–≤–Ω–æ–≥–æ sudo –¥–æ—Å—Ç—É–ø—É
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–æ –¥–ª—è production

### –ü—ñ—Å–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:
- CI –∑–º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ sudo –∫–æ–º–∞–Ω–¥–∏ –±–µ–∑ –ø–∞—Ä–æ–ª—è
- –î–µ–ø–ª–æ–π —Ç–∞ rollback –±—É–¥—É—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –ø–∞—Ä–æ–ª—ñ —á–µ—Ä–µ–∑ —Å–µ–∫—Ä–µ—Ç–∏
